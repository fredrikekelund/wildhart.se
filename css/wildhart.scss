---
---



/* ==========================================================================
   Variables
   ========================================================================== */
$wide: 1000px;
$middle: 800px;
$narrow: 600px;
$narrower: 475px;

$short: 700px;

$nav-height: 4em;
$border-width: 2px;

$background-image-jpg: "/img/wildhart.large-2.jpg";
$background-image-webp: "/img/wildhart.large-2.webp";
$order-img: "/img/order.optim.png";

$color: black;
$border-color: fade-out(white, .7);
$social-links-bg-color: fade-out(white, .5);
$heading-text-shadow-colors: hsl(335, 86%, 26%), hsl(225, 86%, 56%), hsl(60, 100%, 50%);
$heading-text-shadow-offsets: 0 2px, -1px -1px, -3px 3px;

$bg-color: hsl(58, 78%, 96%);
$gradient-color: hsla(0, 0%, 10%, .5);
$description-bg-color: hsl(284, 84%, 61%);
$images-bg-color: hsl(59, 86%, 56%);

$container-bg-color-1: hsl(58, 78%, 96%);
$container-bg-color-2: $bg-color;

$content-container-bg-color: fade-out(hsl(58, 78%, 96%), .5);
$content-container-bg-gradient: radial-gradient(ellipse at 30% 40% , fade-out($container-bg-color-1, .2), fade-out($container-bg-color-2, .3));

$transition-duration: .45s;
$transition-easing: cubic-bezier(.1, 1, .75, 1);



/* ==========================================================================
   Mixins
   ========================================================================== */
@mixin only-icon {
	overflow: hidden;
	white-space: nowrap;

	&:before {
		display: inline-block;
		margin-right: .75em;
		text-align: center;
		width: 100%;
	}
}

.only-icon {
	@include only-icon;
}

@mixin gradient-bg ($from-color, $to-color: null, $range: null) {
	@if ($to-color == null) {
		$to-color: $from-color;
		$from-color: darken($from-color, 5%);
	}

	@if ($range != null) {
		background-image: linear-gradient(to bottom, $from-color, $to-color $range);
	} @else {
		background-image: linear-gradient(to bottom, $from-color, $to-color);
	}
}

@mixin targeted-container {
	opacity: 1;
	transition-delay: 0s;
	visibility: visible;

	> div {
		transform: translateY(0);
	}
}

@mixin filter ($function) {
	-moz-filter: $function;
	-webkit-filter: $function;
	filter: $function;
}

@keyframes fade {
	0% {
		opacity: 1;
	}
	40% {
		opacity: 0;
	}
	60% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}

@keyframes glitch {
	0%, 10% {
		opacity: 1;
	}
	11%, 12% {
		opacity: 0;
	}
	15% {
		opacity: 0.5;
	}
	16% {
		opacity: 0;
	}
	18%, 75% {
		opacity: 1;
	}
	76% {
		opacity: 0;
	}
	77% {
		opacity: 1;
	}
	78% {
		opacity: .2;
	}
	79% {
		opacity: .9;
	}
	80% {
		opacity: .1;
	}
	81%, 100% {
		opacity: 1;
	}
}




/* ==========================================================================
   @imports
   ========================================================================== */
@import "flexbox";
@import "SiteNav";
@import "SocialLinks";



/* ==========================================================================
   ID selectors
   ========================================================================== */
#contact:target ~ .SiteContainer {
	.Popup--contact {
		@include targeted-container;
	}
}

#images:target ~ .SiteContainer {
	.Popup--images {
		@include targeted-container;
	}
}

#shows:target ~ .SiteContainer {
	.Popup--shows {
		@include targeted-container;
	}
}

#contact:target ~ .SiteContainer,
#images:target ~ .SiteContainer,
#shows:target ~ .SiteContainer {
	@media (max-height: $short) {
		.SocialLinks {
			background-color: fade-out(white, 1);
		}

		.SiteNav {
			opacity: 0;
			visibility: hidden;
			transition-delay: 0s, $transition-duration;
		}
	}

	.OrderLink {
		opacity: 0;
		transition-delay: 0s, $transition-duration / 2;
		visibility: hidden;
	}

	.WildhartTitles-title {
		animation: fade $transition-duration linear 0s 1;
		bottom: 55%;
		color: black;
		opacity: 1;
		z-index: 100;

		@media (max-height: $short) {
			bottom: 100%;
			margin-bottom: -16rem;
			// text-shadow: none;
		}

		@media (max-height: $short - 100px) {
			margin-bottom: -14rem;
		}

		@media (max-height: $narrower) {
			margin-bottom: -12rem;
		}

		@media (max-height: $narrower - 75px) {
			margin-bottom: -10.5rem;
		}

		@media (max-height: $narrower) and (min-width: $narrower - 50px) {
			margin-bottom: -10.75rem;
		}
	}
}



/* ==========================================================================
   Class selectors
   ========================================================================== */
.SiteContainer {
	background: {
		image: url($background-image-jpg);
		image:
			linear-gradient(to top, $gradient-color, transparent 30%),
			linear-gradient(to bottom, fade-out(hsl(0, 0%, 90%), .75), fade-out(hsl(0, 0%, 90%), 1) 20%),
			url($background-image-jpg);
		position: center center;
		repeat: no-repeat;
		size: auto 100%;
		size: cover;
	};
	height: 100%;
	overflow: hidden;
	position: relative;
	width: 100%;

	.webp & {
		// Ain't no browser that supports webp but not CSS gradients
		background-image:
			linear-gradient(to top, $gradient-color, transparent 30%),
			linear-gradient(to bottom, fade-out(hsl(0, 0%, 90%), .75), fade-out(hsl(0, 0%, 90%), 1) 20%),
			url($background-image-webp);
	}
}
.Header {
	position: absolute;
	right: 0;
	top: 0;
	width: 23em;
	z-index: 90;
}



.WildhartTitles {
	bottom: 10%;
	height: 100%;
	position: absolute;
	text-align: center;
	width: 100%;

	@media (max-width: $middle) {
		font-size: .85em;
	}

	@media (max-width: $narrow) {
		font-size: .7em;
	}

	@media (max-width: $narrower) {
		font-size: .35em;
	}
}
.WildhartTitles-title {
	animation: fade $transition-duration linear 0s 1;
	bottom: 4%;
	font: normal 2em/1 futura;
	height: 17%;
	text-align: center;
	text-shadow: 0 0 15px hsl(330, 85%, 83%);
	transition-property: bottom, width, margin, z-index;
	transition-delay: $transition-duration / 2;
	transition-duration: 0s;
	transition-timing-function: linear;
	position: absolute;
	width: 100%;

	@media (min-width: $narrower) and (max-height: $narrow) {
		bottom: 17%;
	}
}

.Popup {
	opacity: 0;
	position: absolute;
	text-align: center;
	top: 50%;
	transition-delay: 0s, 0s, $transition-duration;
	transition-duration: $transition-duration;
	transition-property: transform, opacity, visibility;
	transition-timing-function: $transition-easing;
	transform: translateY(-45%);
	visibility: hidden;
	width: 100%;
	z-index: 10;

	@media (max-height: $short) {
		background-color: $content-container-bg-color;
		background-image: $content-container-bg-gradient;
		height: 100%;
		top: 0;
	}
	@media (max-width: $narrow) {
		transform: none;
	}
}
.Popup-content {
	border: $border-width solid $border-color;
	display: inline-block;
	margin: 0 auto;
	padding: 1em;
	transform: translateY(10em);
	transition: transform $transition-duration $transition-easing;

	@media (min-height: $short) {
		background-color: $content-container-bg-color;
		background-image: $content-container-bg-gradient;
	}

	@media (max-width: $narrow) {
		max-width: 100%;
	}

	@media (max-height: $short) {
		border-width: 0;
		height: 100%;
		padding-top: 11em;
	}

	@media (max-height: $narrower) {
		font-size: .45em;
		padding-top: 10em;
	}

	@media (max-width: $middle) and (min-width: $narrow) and (max-height: $short) and (min-height: $narrower) {
		padding-top: 13em;
	}

	@media (min-width: $middle) and (max-height: $short) and (min-height: $narrower) {
		padding-top: 14.5em;
	}
}
.Popup-paragraph,
.Popup-close {
	font-size: 1.5em;

	@media (max-width: $middle) {
		font-size: 1.2em;
	}
	@media (max-height: $short) {
		font-size: 1.2em;
	}
}
.Popup-paragraph {
	font-family: impact;
	margin: 0 auto;
	max-width: 20em;
	text-align: center;

	& + & {
		margin-top: 1em;
	}

	&:last-child {
		margin-bottom: 0;
	}
}
.Popup-close {
	border-bottom: 0;
	display: inline-block;
	margin-top: 1em;
	transition-property: color, text-shadow;
	transition-duration: $transition-duration / 2;
	transition-timing-function: linear;

	&:hover {
		color: desaturate(darken($bg-color, 45%), 70%);
		text-shadow:
			0 0 1em white,
			0 0 1em $bg-color,
			0 0 1em white,
			0 0 1em $bg-color,
			0 0 1em white,
			0 0 1em $bg-color;
	}

	&:before {
		content: "";
		clear: both;
		display: block;
	}
}

.Popup-content--contact {
	max-width: 20rem;
}

.Popup--images {
	min-height: 25em;
}
.Popup-content--images {
	padding-bottom: 1em;
	padding-left: 0;
	padding-right: 0;
	text-align: center;
}
.Popup-images {
	display: block;
	max-width: 100%;
	overflow: hidden;
	width: 32em;
}
.Popup-imageLink {
	background-size: cover;
	background-position: center;
	border: $border-width solid $border-color;
	display: inline-block;
	margin: .25em;
	padding-bottom: 30%;
	width: 44.5%;

	&:nth-child(even) {
		padding-left: 0;
	}
}

.Popup-content--shows {
	max-width: 20rem;
}

.OrderLink {
	$dimensions: 12em;

	animation-name: glitch;
	animation-duration: 15s;
	animation-timing-function: linear;
	animation-iteration-count: infinite;
	background-image: url($order-img);
	background-repeat: no-repeat;
	background-size: contain;
	border: 0;
	left: 50%;
	transform: translate(-50%, -50%);
	display: block;
	height: $dimensions;
	position: absolute;
	top: 68%;
	transition-duration: $transition-duration / 2, 0s;
	transition-property: opacity, visibility;
	transition-timing-function: linear;
	width: $dimensions;

	@media (max-width: $narrow) {
		height: $dimensions * 0.8;
		top: 64%;
		width: $dimensions * 0.8;
	}
	@media (max-height: $narrow) {
		top: 50%;
	}
}



.u-flexbox {
	@include flexbox-container;
}
.u-flex {
	@include flex(1);
}
.u-plainList {
	list-style: none;
}
.u-center {
	text-align: center;
}



/* ==========================================================================
   Tag selectors
   ========================================================================== */
* {
	box-sizing: border-box;
	margin: 0;
	padding: 0;
}

a {
	color: inherit;
	border-bottom: 1px solid fade-out($color, .5);
	text-decoration: none;
}

:root,
html {
	font-size: 16px;
	line-height: 1.5;
	font-family: 'Pinyon Script', impact, sans-serif;
}

body, html {
	height: 400px;
	min-height: 100%;
}

body {
	background-color: $bg-color;
	color: $color;
}

h1, h2, h3 {
	font-weight: normal;
}
