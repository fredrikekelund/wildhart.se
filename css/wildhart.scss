---
---

@import "position";
@import "flexbox";
@import "icomoon";



$wide: 1000px;
$middle: 800px;
$narrow: 600px;
$narrower: 400px;

$nav-height: 5em;

$color: hsl(335, 86%, 26%);
$social-links-color: white;
$heading-color: hsl(179, 84%, 90%);
$heading-text-shadow-colors: hsl(335, 86%, 26%), hsl(225, 86%, 56%), hsl(60, 100%, 50%);
$heading-text-shadow-offsets: 0 2px, -1px -1px, -3px 3px;

$bg-color: hsl(350, 90%, 76%);
$gradient-color: hsla(0, 0%, 10%, .5);
$description-bg-color: hsl(263, 91%, 71%);
$music-bg-color: hsl(59, 86%, 56%);



@mixin only-icon {
	overflow: hidden;
	white-space: nowrap;

	&:before {
		display: inline-block;
		margin-right: .75em;
		text-align: center;
		width: 100%;
	}
}

.only-icon {
	@include only-icon;
}

@mixin gradient-bg ($from-color, $to-color: null, $range: 5em) {
	@if ($to-color == null) {
		$to-color: $from-color;
		$from-color: darken($from-color, 5%);
	}

	background-image: linear-gradient(to bottom, $from-color, $to-color);
}



* {
	box-sizing: border-box;
	margin: 0;
	padding: 0;
}

a {
	color: inherit;
	border-bottom: 1px solid fade-out($color, .5);
	text-decoration: none;
}

body, html {
	height: 100%;
}

body {
	background-color: $bg-color;
	color: $color;
	font: 16px/1.5 myriad-pro, arial, sans-serif;
}

h1, h2, h3 {
	font-family: felt-tip-woman;
	font-weight: normal;
}

header {
	height: 100vh;
	overflow: hidden;
	position: relative;

	> nav {
		height: $nav-height;
		overflow: hidden;
		@include position(none none 0 none);
		width: 100%;

		@media screen and (max-width: $narrow) {
			height: $nav-height / 1.8;
		}
	}
}



.background {
	height: 100%;
	position: fixed;
	width: 100%;

	> .wildhart-image {
		background: {
			image: linear-gradient(to top, $gradient-color, transparent 30%), url("/img/wildhart.large.jpg");
			position: center bottom;
			repeat: no-repeat;
			size: cover;
		}
		height: 100%;
		@include position(none none $nav-height none, relative);
		transform: translateZ(0);
		width: 100%;

		@media screen and (max-width: $narrow) {
			bottom: $nav-height / 1.8;
		}
	}
}

.foreground {
	position: relative;
	z-index: 1;
}

.nav-heading {
	display: none;
	float: left;
	height: 3rem;
}

.social-links {
	@include flexbox-container;

	color: $social-links-color;
	list-style: none;

	> li {
		@include flex(1);
		text-align: center;

		> a {
			$font-size: 2.5em;

			border-bottom: 0;
			display: block;
			font-size: $font-size;
			line-height: $nav-height / $font-size;
			transition: background-color .2s linear;

			@media screen and (max-width: $narrow) {
				$smaller-font-size: 1.75;

				font-size: unquote("#{$smaller-font-size}em");
				line-height: ($nav-height / $smaller-font-size) / $smaller-font-size;
			}

			&.icon-youtube {
				$youtube-color: hsl(358, 79%, 45%);
				background-color: fade-out($youtube-color, .25);

				&:hover, &:focus {
					background-color: $youtube-color;
				}
			}
			&.icon-soundcloud {
				$soundcloud-color: hsl(28, 100%, 50%);
				background-color: fade-out($soundcloud-color, .25);

				&:hover, &:focus {
					background-color: $soundcloud-color;
				}
			}
			&.icon-facebook {
				$facebook-color: hsl(221, 44%, 41%);
				background-color: fade-out($facebook-color, .25);

				&:hover, &:focus {
					background-color: $facebook-color;
				}
			}
		}
	}
}

.description, .soundcloud, .images {
	padding-top: 1em;

	> p {
		margin: 0 auto 1em auto;
		max-width: 20rem;
		width: 90%;

		&:last-child {
			margin-bottom: 0;
		}
	}

	> h2 {
		$text-shadow: unquote("#{nth($heading-text-shadow-offsets, 1)} 0 #{nth($heading-text-shadow-colors, 1)}");

		@for $i from 2 to (length($heading-text-shadow-colors) + 1) {
			$text-shadow: append($text-shadow, unquote("#{nth($heading-text-shadow-offsets, $i)} 0 #{nth($heading-text-shadow-colors, $i)}"), comma);
		}

		color: $heading-color;
		font-size: 8em;
		line-height: 1;
		margin: 0 auto .5rem auto;
		text-align: center;
		text-shadow: $text-shadow;

		@media screen and (max-width: $narrow) {
			font-size: 5em;
		}
	}
}

.description {
	@include gradient-bg($description-bg-color, $bg-color);
	padding: 3em 0;

	@media screen and (max-width: $narrow) {
		padding: 0;
	}
}

.soundcloud {
	$gutter: 3em;

	@include gradient-bg($bg-color, $music-bg-color);
	padding: 0 $gutter / 2;

	@media screen and (max-width: $narrow) {
		padding: $gutter / 6;
	}

	> .iframes {
		flex-wrap: wrap;
		@include justify-content(center);
		width: 100%;

		@media screen and (min-width: $narrow) {
			@include flexbox-container;
		}

		> iframe {
			display: block;
			@include flex(1);
			min-width: 400px;
			padding: $gutter / 2;

			@media screen and (max-width: $narrow) {
				height: 300px;
				padding: $gutter / 6;
				min-width: 0;
				width: 100%;
			}
		}
	}
}

.images {
	@include gradient-bg($music-bg-color, transparent);
}
