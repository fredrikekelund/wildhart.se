---
---

@import "position";
@import "flexbox";
@import "icomoon";



$wide: 1000px;
$middle: 800px;
$narrow: 600px;
$narrower: 400px;

$header-image-height: 100vh;
$nav-height: 4em;
$border-width: 2px;

$color: white;
$border-color: hsl(335, 86%, 26%);
$social-links-color: white;
$heading-color: white;
$heading-text-shadow-colors: hsl(335, 86%, 26%), hsl(225, 86%, 56%), hsl(60, 100%, 50%);
$heading-text-shadow-offsets: 0 2px, -1px -1px, -3px 3px;

$bg-color: hsl(338, 78%, 57%);
$gradient-color: hsla(0, 0%, 10%, .5);
$description-bg-color: hsl(284, 84%, 61%);
$images-bg-color: hsl(59, 86%, 56%);

$transition-duration: .35s;



@mixin only-icon {
	overflow: hidden;
	white-space: nowrap;

	&:before {
		display: inline-block;
		margin-right: .75em;
		text-align: center;
		width: 100%;
	}
}

.only-icon {
	@include only-icon;
}

@mixin gradient-bg ($from-color, $to-color: null, $range: null) {
	@if ($to-color == null) {
		$to-color: $from-color;
		$from-color: darken($from-color, 5%);
	}

	@if ($range != null) {
		background-image: linear-gradient(to bottom, $from-color, $to-color $range);
	} @else {
		background-image: linear-gradient(to bottom, $from-color, $to-color);
	}
}



* {
	box-sizing: border-box;
	margin: 0;
	padding: 0;
}

a {
	color: inherit;
	border-bottom: 1px solid fade-out($color, .5);
	text-decoration: none;
}

body, html {
	height: 100%;
}

body {
	background-color: $bg-color;
	color: $color;
	font: 16px/1.5 myriad-pro, arial, sans-serif;
}

h1, h2, h3 {
	font-family: flood-std;
	font-weight: normal;
}

section {
	background: {
		image: linear-gradient(to top, $gradient-color, transparent 30%), url("/img/wildhart.large.jpg");
		position: center center;
		repeat: no-repeat;
		size: cover;
	};
	height: 100%;
	overflow: hidden;
	position: relative;
	width: 100%;

	@media screen and (max-height: $narrow) {
		height: 350px;
	}

	@media screen and (max-width: $narrow) {
		bottom: $nav-height / 1.8;
	}

	> header {
		@include position(0 none none none);
		width: 100%;
		z-index: 90;

		> nav {
			overflow: hidden;
			width: 100%;

			@media screen and (max-width: $narrow) {
				height: $nav-height / 1.8;
			}
		}
	}
}

.nav-heading {
	display: none;
	float: left;
	height: 3rem;
}



$text-shadow: unquote("#{nth($heading-text-shadow-offsets, 1)} 0 #{nth($heading-text-shadow-colors, 1)}");

@for $i from 2 to (length($heading-text-shadow-colors) + 1) {
	$text-shadow: append($text-shadow, unquote("#{nth($heading-text-shadow-offsets, $i)} 0 #{nth($heading-text-shadow-colors, $i)}"), comma);
}

.social-links, .site-nav > ul {
	@include flexbox-container;

	color: $social-links-color;
	list-style: none;

	> li {
		@include flex(1);
		text-align: center;

		> a {
			border: 4px solid $border-color;
		}
	}
}

.site-nav {
	@include position(none none 0 none);
	width: 100%;
	z-index: 90;

	ul {
		> li {
			> a {
				$font-size: 4em;

				border-bottom: 0;
				color: $heading-color;
				display: block;
				font: normal $font-size flood-std;
				line-height: $nav-height / $font-size;
				padding: .1em 0;
				text-align: center;
				text-shadow: $text-shadow;

				&.om {
					background-color: $description-bg-color;
					border-width: $border-width 0 $border-width/2 $border-width;
				}

				&.bilder {
					background-color: $bg-color;
					border-width: $border-width $border-width $border-width/2 $border-width;
				}
			}
		}
	}
}

.social-links {
	> li {
		> a {
			$font-size: 2.5em;

			display: block;
			font-size: $font-size;
			line-height: $nav-height / $font-size;
			transition: background-color .2s linear;

			@media screen and (max-width: $narrow) {
				$smaller-font-size: 1.75;

				font-size: unquote("#{$smaller-font-size}em");
				line-height: ($nav-height / $smaller-font-size) / $smaller-font-size;
			}

			&.icon-youtube {
				$youtube-color: hsl(358, 79%, 45%);
				background-color: lighten($youtube-color, 5%);
				border-width: 0 0 $border-width $border-width;

				&:hover, &:focus {
					background-color: $youtube-color;
				}
			}
			&.icon-soundcloud {
				$soundcloud-color: hsl(28, 100%, 50%);
				background-color: lighten($soundcloud-color, 5%);
				border-width: 0 0 $border-width $border-width;

				&:hover, &:focus {
					background-color: $soundcloud-color;
				}
			}
			&.icon-facebook {
				$facebook-color: hsl(221, 44%, 41%);
				background-color: lighten($facebook-color, 5%);
				border-width: 0 $border-width $border-width $border-width;

				&:hover, &:focus {
					background-color: $facebook-color;
				}
			}
		}
	}
}

.wildhart-titles {
	height: 100%;
	text-align: center;
	@include position(none none 10% none);
	width: 100%;

	> img {
		$height: 17%;
		$width: 50%;

		height: auto;
		position: absolute;
		transition: {
			property: opacity, bottom;
			duration: $transition-duration;
			timing-function: ease-out;
		};
		width: $width;

		$b: 0%;

		@for $i from 1 to 6 {
			&.n#{$i} {
				bottom: $b;
				left: 50%;
				margin-left: -#{($width/$i) / 2};
				width: $width/$i;

				$b: $b + ($height / $i);
			}
		}

		@for $i from 5 to 0 {
			z-index: $i;
		}
	}
}

.om-container, .bilder-container {
	opacity: 0;
	@include position(100% none none none);
	text-align: center;
	transition: {
		property: top, opacity;
		duration: $transition-duration;
		timing-function: ease-out;
	}
	width: 100%;
	z-index: 10;

	> p {
		margin: 0 auto 1em auto;
		max-width: 20rem;
		text-align: left;
		width: 90%;
	}
}

.om-container {
	padding: 3em 0;

}

.bilder-container {
	min-height: 25em;
}

#om:target {
	.wildhart-titles {
		> img {
			opacity: 0;

			&.n1 {
				bottom: 45%;
				opacity: 1;
			}
		}
	}

	.om-container {
		opacity: 1;
		top: 50%;
	}
}

#bilder:target {
	.wildhart-titles {
		> img {
			opacity: 0;

			&.n1 {
				bottom: 45%;
				opacity: 1;
			}
		}
	}

	.bilder-container {
		opacity: 1;
		top: 50%;
	}
}
